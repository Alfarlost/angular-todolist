 /* mk.editablespan - v1.0.0 - 2014-01-03 */
var mod=angular.module("mk.editablespan",[]);mod.directive("editablespan",function(){return{restrict:"E",template:'<div><span ng-hide="editing" ng-class="spanClass" id="del">{{text}}</span><form class="input-form" ng-show="editing"><input type="{{getInputType()}}" ng-class="inputClass" title="Press Enter to save change. Press Esc to cancel."></form><a href="" class="icon-edit icon-white" ng-click="editNow()" id="right"></a><div>',scope:{text:"=model",onReady:"&",spanClass:"@",inputClass:"@",inputType:"@"},replace:!0,link:function(n,e){function t(){i(),c(!0),r[0].focus()}function i(){r.bind("blur",function(){a()}),r.bind("keyup",function(n){d(n)&&a()}),p.bind("submit",function(){r[0].value&&u(),a()})}function u(){n.text=r[0].value,n.$apply(),n.onReady()}function a(){l(),c(!1)}function l(){r.unbind(),p.unbind()}function c(e){n.editing=e,n.$apply()}function d(n){return n&&27==n.keyCode}n.getInputType=function(){return n.inputType||"text"};var o=angular.element(e.children()[0]),p=angular.element(e.children()[1]),r=angular.element(e.children()[1][0]),s=angular.element(e.children()[2]);s.bind("click",function(){r[0].value=n.text,t()}),o.bind("click",function(){r[0].value=n.text,t()})}}});