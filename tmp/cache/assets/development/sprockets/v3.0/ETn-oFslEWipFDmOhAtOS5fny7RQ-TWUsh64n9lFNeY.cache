I"Å(function() {
  var todoApp;

  todoApp = angular.module('todoApp', ['ngRoute', 'ui.bootstrap', 'templates']);

  todoApp.controller('MainCtrl', [
    '$scope', 'todoLists', function($scope, todoLists) {
      $scope.test = 'Hello world!';
      $scope.todoLists = todoLists.getAll();
      return $scope.addList = function() {
        todoLists.create({
          title: $scope.newList
        });
        return $scope.newList = '';
      };
    }
  ]);

  todoApp.config([
    '$stateProvider', '$urlRouterProvider', function($stateProvider, $urlRouterProvider) {
      $stateProvider.state('home', {
        url: '/home',
        templateUrl: "todos.html",
        controller: 'MainCtrl'
      });
      return $urlRouterProvider.otherwise('/home');
    }
  ]);

  angular.module('todoApp').config(function($routeProvider) {
    return $routeProvider.when('/', {
      templateUrl: 'todos.html',
      controller: 'MainCtrl'
    }).otherwise({
      redirectTo: '/'
    });
  });

  todoApp.factory('todoLists', [
    '$http', function($http) {
      var t;
      t = {
        todoLists: []
      };
      t.getAll = function() {
        return $http.get('/todo_lists.json').success(function(data) {
          angular.copy(data, t.todoLists);
        });
      };
      return t.create = function() {
        return $http.post('/todo_lists.json', todoList).success(function(data) {
          return t.todoLists.push(data);
        });
      };
    }
  ]);

}).call(this);
:ET